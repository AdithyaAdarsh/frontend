{"ast":null,"code":"import _regeneratorRuntime from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { BroadcastChannel } from 'broadcast-channel';\nimport { isBrowser } from '../features.js';\nimport '../oidc/types/Token.js';\nimport { EVENT_ADDED, EVENT_REMOVED, EVENT_RENEWED, EVENT_SET_STORAGE } from '../oidc/types/TokenManager.js';\nimport AuthSdkError from '../errors/AuthSdkError.js';\nvar SyncStorageService = /*#__PURE__*/function () {\n  function SyncStorageService(tokenManager) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _classCallCheck(this, SyncStorageService);\n    this.started = false;\n    this.enablePostMessage = true;\n    this.tokenManager = tokenManager;\n    this.options = options;\n    this.onTokenAddedHandler = this.onTokenAddedHandler.bind(this);\n    this.onTokenRemovedHandler = this.onTokenRemovedHandler.bind(this);\n    this.onTokenRenewedHandler = this.onTokenRenewedHandler.bind(this);\n    this.onSetStorageHandler = this.onSetStorageHandler.bind(this);\n    this.onSyncMessageHandler = this.onSyncMessageHandler.bind(this);\n  }\n  _createClass(SyncStorageService, [{\n    key: \"requiresLeadership\",\n    value: function requiresLeadership() {\n      return false;\n    }\n  }, {\n    key: \"isStarted\",\n    value: function isStarted() {\n      return this.started;\n    }\n  }, {\n    key: \"canStart\",\n    value: function canStart() {\n      return !!this.options.syncStorage && isBrowser() && !this.started;\n    }\n  }, {\n    key: \"start\",\n    value: function () {\n      var _start = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var syncChannelName;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (this.canStart()) {\n                _context.next = 2;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 2:\n              syncChannelName = this.options.syncChannelName;\n              _context.prev = 3;\n              this.channel = new BroadcastChannel(syncChannelName);\n              _context.next = 10;\n              break;\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](3);\n              throw new AuthSdkError('SyncStorageService is not supported in current browser.');\n            case 10:\n              this.tokenManager.on(EVENT_ADDED, this.onTokenAddedHandler);\n              this.tokenManager.on(EVENT_REMOVED, this.onTokenRemovedHandler);\n              this.tokenManager.on(EVENT_RENEWED, this.onTokenRenewedHandler);\n              this.tokenManager.on(EVENT_SET_STORAGE, this.onSetStorageHandler);\n              this.channel.addEventListener('message', this.onSyncMessageHandler);\n              this.started = true;\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this, [[3, 7]]);\n      }));\n      function start() {\n        return _start.apply(this, arguments);\n      }\n      return start;\n    }()\n  }, {\n    key: \"stop\",\n    value: function () {\n      var _stop = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var _a, _b;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!this.started) {\n                _context2.next = 10;\n                break;\n              }\n              this.tokenManager.off(EVENT_ADDED, this.onTokenAddedHandler);\n              this.tokenManager.off(EVENT_REMOVED, this.onTokenRemovedHandler);\n              this.tokenManager.off(EVENT_RENEWED, this.onTokenRenewedHandler);\n              this.tokenManager.off(EVENT_SET_STORAGE, this.onSetStorageHandler);\n              (_a = this.channel) === null || _a === void 0 ? void 0 : _a.removeEventListener('message', this.onSyncMessageHandler);\n              _context2.next = 8;\n              return (_b = this.channel) === null || _b === void 0 ? void 0 : _b.close();\n            case 8:\n              this.channel = undefined;\n              this.started = false;\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function stop() {\n        return _stop.apply(this, arguments);\n      }\n      return stop;\n    }()\n  }, {\n    key: \"onTokenAddedHandler\",\n    value: function onTokenAddedHandler(key, token) {\n      var _a;\n      if (!this.enablePostMessage) {\n        return;\n      }\n      (_a = this.channel) === null || _a === void 0 ? void 0 : _a.postMessage({\n        type: EVENT_ADDED,\n        key: key,\n        token: token\n      });\n    }\n  }, {\n    key: \"onTokenRemovedHandler\",\n    value: function onTokenRemovedHandler(key, token) {\n      var _a;\n      if (!this.enablePostMessage) {\n        return;\n      }\n      (_a = this.channel) === null || _a === void 0 ? void 0 : _a.postMessage({\n        type: EVENT_REMOVED,\n        key: key,\n        token: token\n      });\n    }\n  }, {\n    key: \"onTokenRenewedHandler\",\n    value: function onTokenRenewedHandler(key, token, oldToken) {\n      var _a;\n      if (!this.enablePostMessage) {\n        return;\n      }\n      (_a = this.channel) === null || _a === void 0 ? void 0 : _a.postMessage({\n        type: EVENT_RENEWED,\n        key: key,\n        token: token,\n        oldToken: oldToken\n      });\n    }\n  }, {\n    key: \"onSetStorageHandler\",\n    value: function onSetStorageHandler(storage) {\n      var _a;\n      (_a = this.channel) === null || _a === void 0 ? void 0 : _a.postMessage({\n        type: EVENT_SET_STORAGE,\n        storage: storage\n      });\n    }\n  }, {\n    key: \"onSyncMessageHandler\",\n    value: function onSyncMessageHandler(msg) {\n      this.enablePostMessage = false;\n      switch (msg.type) {\n        case EVENT_SET_STORAGE:\n          this.tokenManager.getStorage().setStorage(msg.storage);\n          break;\n        case EVENT_ADDED:\n          this.tokenManager.emitAdded(msg.key, msg.token);\n          this.tokenManager.setExpireEventTimeout(msg.key, msg.token);\n          break;\n        case EVENT_REMOVED:\n          this.tokenManager.clearExpireEventTimeout(msg.key);\n          this.tokenManager.emitRemoved(msg.key, msg.token);\n          break;\n        case EVENT_RENEWED:\n          this.tokenManager.emitRenewed(msg.key, msg.token, msg.oldToken);\n          break;\n      }\n      this.enablePostMessage = true;\n    }\n  }]);\n  return SyncStorageService;\n}();\nexport { SyncStorageService };","map":{"version":3,"names":["SyncStorageService","tokenManager","options","arguments","length","undefined","_classCallCheck","started","enablePostMessage","onTokenAddedHandler","bind","onTokenRemovedHandler","onTokenRenewedHandler","onSetStorageHandler","onSyncMessageHandler","_createClass","key","value","requiresLeadership","isStarted","canStart","syncStorage","isBrowser","_start","_asyncToGenerator","_regeneratorRuntime","mark","_callee","syncChannelName","wrap","_callee$","_context","prev","next","abrupt","channel","BroadcastChannel","t0","AuthSdkError","on","EVENT_ADDED","EVENT_REMOVED","EVENT_RENEWED","EVENT_SET_STORAGE","addEventListener","stop","start","apply","_stop","_callee2","_a","_b","_callee2$","_context2","off","removeEventListener","close","token","postMessage","type","oldToken","storage","msg","getStorage","setStorage","emitAdded","setExpireEventTimeout","clearExpireEventTimeout","emitRemoved","emitRenewed"],"sources":["/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@okta/lib/services/SyncStorageService.ts"],"sourcesContent":["/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { BroadcastChannel } from 'broadcast-channel';\nimport { isBrowser } from '../features';\nimport {\n  ServiceManagerOptions, ServiceInterface\n} from '../core/types';\nimport {\n  Token, Tokens, \n  EVENT_ADDED, EVENT_REMOVED, EVENT_RENEWED, EVENT_SET_STORAGE, TokenManagerInterface\n} from '../oidc/types';\nimport { AuthSdkError } from '../errors';\n\nexport type SyncMessage = {\n  type: string;\n  key?: string;\n  token?: Token;\n  oldToken?: Token;\n  storage?: Tokens;\n};\nexport class SyncStorageService implements ServiceInterface {\n  private tokenManager: TokenManagerInterface;\n  private options: ServiceManagerOptions;\n  private channel?: BroadcastChannel<SyncMessage>;\n  private started = false;\n  private enablePostMessage = true;\n\n  constructor(tokenManager: TokenManagerInterface, options: ServiceManagerOptions = {}) {\n    this.tokenManager = tokenManager;\n    this.options = options;\n    this.onTokenAddedHandler = this.onTokenAddedHandler.bind(this);\n    this.onTokenRemovedHandler = this.onTokenRemovedHandler.bind(this);\n    this.onTokenRenewedHandler = this.onTokenRenewedHandler.bind(this);\n    this.onSetStorageHandler = this.onSetStorageHandler.bind(this);\n    this.onSyncMessageHandler = this.onSyncMessageHandler.bind(this);\n  }\n\n  requiresLeadership() {\n    return false;\n  }\n\n  isStarted() {\n    return this.started;\n  }\n\n  canStart() {\n    return !!this.options.syncStorage && isBrowser() && !this.started;\n  }\n\n  async start() {\n    if (!this.canStart()) {\n      return;\n    }\n    \n    const { syncChannelName } = this.options;\n    try {\n      // BroadcastChannel throws if no supported method can be found\n      this.channel = new BroadcastChannel(syncChannelName as string);\n    } catch (err) {\n      throw new AuthSdkError('SyncStorageService is not supported in current browser.');\n    }\n\n    this.tokenManager.on(EVENT_ADDED, this.onTokenAddedHandler);\n    this.tokenManager.on(EVENT_REMOVED, this.onTokenRemovedHandler);\n    this.tokenManager.on(EVENT_RENEWED, this.onTokenRenewedHandler);\n    this.tokenManager.on(EVENT_SET_STORAGE, this.onSetStorageHandler);\n    this.channel.addEventListener('message', this.onSyncMessageHandler);\n    this.started = true;\n  }\n\n  async stop() {\n    if (this.started) {\n      this.tokenManager.off(EVENT_ADDED, this.onTokenAddedHandler);\n      this.tokenManager.off(EVENT_REMOVED, this.onTokenRemovedHandler);\n      this.tokenManager.off(EVENT_RENEWED, this.onTokenRenewedHandler);\n      this.tokenManager.off(EVENT_SET_STORAGE, this.onSetStorageHandler);\n      this.channel?.removeEventListener('message', this.onSyncMessageHandler);\n      await this.channel?.close();\n      this.channel = undefined;\n      this.started = false;\n    }\n  }\n\n  private onTokenAddedHandler(key: string, token: Token) {\n    if (!this.enablePostMessage) {\n      return;\n    }\n    this.channel?.postMessage({\n      type: EVENT_ADDED,\n      key,\n      token\n    });\n  }\n\n  private onTokenRemovedHandler(key: string, token: Token) {\n    if (!this.enablePostMessage) {\n      return;\n    }\n    this.channel?.postMessage({\n      type: EVENT_REMOVED,\n      key,\n      token\n    });\n  }\n\n  private onTokenRenewedHandler(key: string, token: Token, oldToken?: Token) {\n    if (!this.enablePostMessage) {\n      return;\n    }\n    this.channel?.postMessage({\n      type: EVENT_RENEWED,\n      key,\n      token,\n      oldToken\n    });\n  }\n\n  private onSetStorageHandler(storage: Tokens) {\n    this.channel?.postMessage({\n      type: EVENT_SET_STORAGE,\n      storage\n    });\n  }\n\n  /* eslint-disable complexity */\n  private onSyncMessageHandler(msg: SyncMessage) {\n    // Notes:\n    // 1. Using `enablePostMessage` flag here to prevent sync message loop.\n    //    If this flag is on, tokenManager event handlers do not post sync message.\n    // 2. IE11 has known issue with synchronization of LocalStorage cross tabs.\n    //    One workaround is to set empty event handler for `window.onstorage`.\n    //    But it's not 100% working, sometimes you still get old value from LocalStorage.\n    //    Better approch is to explicitly udpate LocalStorage with `setStorage`.\n\n    this.enablePostMessage = false;\n    switch (msg.type) {\n      case EVENT_SET_STORAGE:\n        this.tokenManager.getStorage().setStorage(msg.storage);\n        break;\n      case EVENT_ADDED:\n        this.tokenManager.emitAdded(msg.key!, msg.token!);\n        this.tokenManager.setExpireEventTimeout(msg.key!, msg.token!);\n        break;\n      case EVENT_REMOVED:\n        this.tokenManager.clearExpireEventTimeout(msg.key!);\n        this.tokenManager.emitRemoved(msg.key!, msg.token!);\n        break;\n      case EVENT_RENEWED:\n        this.tokenManager.emitRenewed(msg.key!, msg.token!, msg.oldToken);\n        break;\n      default:\n        break;\n    }\n    this.enablePostMessage = true;\n  }\n} "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}