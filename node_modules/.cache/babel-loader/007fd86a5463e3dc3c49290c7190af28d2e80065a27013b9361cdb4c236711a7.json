{"ast":null,"code":"import _defineProperty from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classCallCheck from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { Remediator } from './Base/Remediator.js';\nvar EnrollPoll = /*#__PURE__*/function (_Remediator) {\n  _inherits(EnrollPoll, _Remediator);\n  var _super = _createSuper(EnrollPoll);\n  function EnrollPoll() {\n    _classCallCheck(this, EnrollPoll);\n    return _super.apply(this, arguments);\n  }\n  _createClass(EnrollPoll, [{\n    key: \"canRemediate\",\n    value: function canRemediate() {\n      return !!this.values.startPolling || this.options.step === 'enroll-poll';\n    }\n  }, {\n    key: \"getNextStep\",\n    value: function getNextStep(authClient, context) {\n      var common = _get(_getPrototypeOf(EnrollPoll.prototype), \"getNextStep\", this).call(this, authClient, context);\n      var authenticator = this.getAuthenticator();\n      if (!authenticator && (context === null || context === void 0 ? void 0 : context.currentAuthenticator)) {\n        authenticator = context.currentAuthenticator.value;\n      }\n      return Object.assign(Object.assign({}, common), {\n        authenticator: authenticator,\n        poll: {\n          required: true,\n          refresh: this.remediation.refresh\n        }\n      });\n    }\n  }, {\n    key: \"getValuesAfterProceed\",\n    value: function getValuesAfterProceed() {\n      var _this = this;\n      var trimmedValues = Object.keys(this.values).filter(function (valueKey) {\n        return valueKey !== 'startPolling';\n      });\n      return trimmedValues.reduce(function (values, valueKey) {\n        return Object.assign(Object.assign({}, values), _defineProperty({}, valueKey, _this.values[valueKey]));\n      }, {});\n    }\n  }]);\n  return EnrollPoll;\n}(Remediator);\nEnrollPoll.remediationName = 'enroll-poll';\nexport { EnrollPoll };","map":{"version":3,"names":["EnrollPoll","_Remediator","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","value","canRemediate","values","startPolling","options","step","getNextStep","authClient","context","common","_get","_getPrototypeOf","prototype","call","authenticator","getAuthenticator","currentAuthenticator","Object","assign","poll","required","refresh","remediation","getValuesAfterProceed","_this","trimmedValues","keys","filter","valueKey","reduce","_defineProperty","Remediator","remediationName"],"sources":["/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@okta/lib/idx/remediators/EnrollPoll.ts"],"sourcesContent":["/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { Remediator, RemediationValues } from './Base/Remediator';\nimport { NextStep, OktaAuthIdxInterface } from '../types';\nimport { IdxContext } from '../types/idx-js';\n\nexport interface EnrollPollValues extends RemediationValues {\n  startPolling?: boolean;\n}\n\nexport class EnrollPoll extends Remediator<EnrollPollValues> {\n  static remediationName = 'enroll-poll';\n\n  canRemediate() {\n    return !!this.values.startPolling || this.options.step === 'enroll-poll';\n  }\n\n  getNextStep(authClient: OktaAuthIdxInterface, context?: IdxContext): NextStep {\n    const common = super.getNextStep(authClient, context);\n    let authenticator = this.getAuthenticator();\n    if (!authenticator && context?.currentAuthenticator) {\n      authenticator = context.currentAuthenticator.value;\n    }\n    return {\n      ...common,\n      authenticator,\n      poll: {\n        required: true,\n        refresh: this.remediation.refresh\n      },\n    };\n  }\n\n  getValuesAfterProceed(): EnrollPollValues {\n    let trimmedValues = Object.keys(this.values).filter(valueKey => valueKey !== 'startPolling');\n    return trimmedValues.reduce((values, valueKey) => ({...values, [valueKey]: this.values[valueKey]}), {});\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;IAqBaA,UAAW,0BAAAC,WAAA;EAAAC,SAAA,CAAAF,UAAA,EAAAC,WAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,UAAA;EAAA,SAAAA,WAAA;IAAAK,eAAA,OAAAL,UAAA;IAAA,OAAAG,MAAA,CAAAG,KAAA,OAAAC,SAAA;EAAA;EAAAC,YAAA,CAAAR,UAAA;IAAAS,GAAA;IAAAC,KAAA,EAGtB,SAAAC,aAAA,EAAY;MACV,OAAO,CAAC,CAAC,IAAI,CAACC,MAAM,CAACC,YAAY,IAAI,IAAI,CAACC,OAAO,CAACC,IAAI,KAAK,aAAa;IACzE;EAAA;IAAAN,GAAA;IAAAC,KAAA,EAED,SAAAM,YAAYC,UAAgC,EAAEC,OAAoB;MAChE,IAAMC,MAAM,GAAAC,IAAA,CAAAC,eAAA,CAAArB,UAAA,CAAAsB,SAAA,wBAAAC,IAAA,OAAqBN,UAAU,EAAEC,OAAO,CAAC;MACrD,IAAIM,aAAa,GAAG,IAAI,CAACC,gBAAgB,EAAE;MAC3C,IAAI,CAACD,aAAa,KAAIN,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEQ,oBAAoB,GAAE;QACnDF,aAAa,GAAGN,OAAO,CAACQ,oBAAoB,CAAChB,KAAK;MACnD;MACD,OAAAiB,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KACKT,MAAM;QACTK,aAAa,EAAbA,aAAa;QACbK,IAAI,EAAE;UACJC,QAAQ,EAAE,IAAI;UACdC,OAAO,EAAE,IAAI,CAACC,WAAW,CAACD;QAC3B;MAAA,CACD;IACH;EAAA;IAAAtB,GAAA;IAAAC,KAAA,EAED,SAAAuB,sBAAA,EAAqB;MAAA,IAAAC,KAAA;MACnB,IAAIC,aAAa,GAAGR,MAAM,CAACS,IAAI,CAAC,IAAI,CAACxB,MAAM,CAAC,CAACyB,MAAM,CAAC,UAAAC,QAAQ;QAAA,OAAIA,QAAQ,KAAK,cAAc;MAAA,EAAC;MAC5F,OAAOH,aAAa,CAACI,MAAM,CAAC,UAAC3B,MAAM,EAAE0B,QAAQ;QAAA,OAAKX,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAKhB,MAAM,GAAA4B,eAAA,KAAGF,QAAQ,EAAGJ,KAAI,CAACtB,MAAM,CAAC0B,QAAQ,CAAC,CAAE;MAAA,GAAE,EAAE,CAAC;IACxG;EAAA;EAAA,OAAAtC,UAAA;AAAA,EA1B6ByC,UAA4B;AACnDzC,UAAe,CAAA0C,eAAA,GAAG,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}