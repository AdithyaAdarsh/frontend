{"ast":null,"code":"import _createClass from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _inherits from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { DEFAULT_MAX_CLOCK_SKEW } from '../../constants.js';\nimport { removeTrailingSlash, toAbsoluteUrl } from '../../util/url.js';\nimport { isBrowser } from '../../features.js';\nimport { createHttpOptionsConstructor } from '../../http/options.js';\nimport { enableSharedStorage } from './browser.js';\nimport AuthSdkError from '../../errors/AuthSdkError.js';\nfunction assertValidConfig(args) {\n  args = args || {};\n  var scopes = args.scopes;\n  if (scopes && !Array.isArray(scopes)) {\n    throw new AuthSdkError('scopes must be a array of strings. ' + 'Required usage: new OktaAuth({scopes: [\"openid\", \"email\"]})');\n  }\n  var issuer = args.issuer;\n  if (!issuer) {\n    throw new AuthSdkError('No issuer passed to constructor. ' + 'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n  var isUrlRegex = new RegExp('^http?s?://.+');\n  if (!isUrlRegex.test(issuer)) {\n    throw new AuthSdkError('Issuer must be a valid URL. ' + 'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n  if (issuer.indexOf('-admin.') !== -1) {\n    throw new AuthSdkError('Issuer URL passed to constructor contains \"-admin\" in subdomain. ' + 'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com})');\n  }\n}\nfunction createOAuthOptionsConstructor() {\n  var HttpOptionsConstructor = createHttpOptionsConstructor();\n  return /*#__PURE__*/function (_HttpOptionsConstruct) {\n    _inherits(OAuthOptionsConstructor, _HttpOptionsConstruct);\n    var _super = _createSuper(OAuthOptionsConstructor);\n    function OAuthOptionsConstructor(options) {\n      var _this;\n      _classCallCheck(this, OAuthOptionsConstructor);\n      _this = _super.call(this, options);\n      assertValidConfig(options);\n      _this.issuer = removeTrailingSlash(options.issuer);\n      _this.tokenUrl = removeTrailingSlash(options.tokenUrl);\n      _this.authorizeUrl = removeTrailingSlash(options.authorizeUrl);\n      _this.userinfoUrl = removeTrailingSlash(options.userinfoUrl);\n      _this.revokeUrl = removeTrailingSlash(options.revokeUrl);\n      _this.logoutUrl = removeTrailingSlash(options.logoutUrl);\n      _this.pkce = options.pkce === false ? false : true;\n      _this.clientId = options.clientId;\n      _this.redirectUri = options.redirectUri;\n      if (isBrowser()) {\n        _this.redirectUri = toAbsoluteUrl(options.redirectUri, window.location.origin);\n      }\n      _this.responseType = options.responseType;\n      _this.responseMode = options.responseMode;\n      _this.state = options.state;\n      _this.scopes = options.scopes;\n      _this.ignoreSignature = !!options.ignoreSignature;\n      _this.codeChallenge = options.codeChallenge;\n      _this.codeChallengeMethod = options.codeChallengeMethod;\n      _this.acrValues = options.acrValues;\n      _this.maxAge = options.maxAge;\n      _this.tokenManager = options.tokenManager;\n      _this.postLogoutRedirectUri = options.postLogoutRedirectUri;\n      _this.restoreOriginalUri = options.restoreOriginalUri;\n      _this.transactionManager = Object.assign({\n        enableSharedStorage: enableSharedStorage\n      }, options.transactionManager);\n      _this.clientSecret = options.clientSecret;\n      _this.setLocation = options.setLocation;\n      _this.ignoreLifetime = !!options.ignoreLifetime;\n      if (!options.maxClockSkew && options.maxClockSkew !== 0) {\n        _this.maxClockSkew = DEFAULT_MAX_CLOCK_SKEW;\n      } else {\n        _this.maxClockSkew = options.maxClockSkew;\n      }\n      return _this;\n    }\n    return _createClass(OAuthOptionsConstructor);\n  }(HttpOptionsConstructor);\n}\nexport { createOAuthOptionsConstructor };","map":{"version":3,"names":["assertValidConfig","args","scopes","Array","isArray","AuthSdkError","issuer","isUrlRegex","RegExp","test","indexOf","createOAuthOptionsConstructor","HttpOptionsConstructor","createHttpOptionsConstructor","_HttpOptionsConstruct","_inherits","OAuthOptionsConstructor","_super","_createSuper","options","_this","_classCallCheck","call","removeTrailingSlash","tokenUrl","authorizeUrl","userinfoUrl","revokeUrl","logoutUrl","pkce","clientId","redirectUri","isBrowser","toAbsoluteUrl","window","location","origin","responseType","responseMode","state","ignoreSignature","codeChallenge","codeChallengeMethod","acrValues","maxAge","tokenManager","postLogoutRedirectUri","restoreOriginalUri","transactionManager","Object","assign","enableSharedStorage","clientSecret","setLocation","ignoreLifetime","maxClockSkew","DEFAULT_MAX_CLOCK_SKEW","_createClass"],"sources":["/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@okta/lib/oidc/options/OAuthOptionsConstructor.ts"],"sourcesContent":["/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { DEFAULT_MAX_CLOCK_SKEW } from '../../constants';\nimport { removeTrailingSlash, toAbsoluteUrl } from '../../util/url';\nimport { isBrowser } from '../../features';\nimport { createHttpOptionsConstructor } from '../../http/options';\nimport {\n  OAuthResponseMode,\n  OAuthResponseType,\n  OktaAuthOAuthInterface,\n  OktaAuthOAuthOptions,\n  SetLocationFunction,\n  TokenManagerOptions,\n  TransactionManagerOptions\n} from '../types';\nimport { enableSharedStorage } from './node';\nimport AuthSdkError from '../../errors/AuthSdkError';\n\nfunction assertValidConfig(args) {\n  args = args || {};\n\n  var scopes = args.scopes;\n  if (scopes && !Array.isArray(scopes)) {\n    throw new AuthSdkError('scopes must be a array of strings. ' +\n      'Required usage: new OktaAuth({scopes: [\"openid\", \"email\"]})');\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  var issuer = args.issuer!;\n  if (!issuer) {\n    throw new AuthSdkError('No issuer passed to constructor. ' + \n      'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n\n  var isUrlRegex = new RegExp('^http?s?://.+');\n  if (!isUrlRegex.test(issuer)) {\n    throw new AuthSdkError('Issuer must be a valid URL. ' + \n      'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n\n  if (issuer.indexOf('-admin.') !== -1) {\n    throw new AuthSdkError('Issuer URL passed to constructor contains \"-admin\" in subdomain. ' +\n      'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com})');\n  }\n}\n\nexport function createOAuthOptionsConstructor() {\n  const HttpOptionsConstructor = createHttpOptionsConstructor();\n  return class OAuthOptionsConstructor\n    extends HttpOptionsConstructor\n    implements Required<OktaAuthOAuthOptions>\n  {\n    // CustomUrls\n    issuer: string;\n    authorizeUrl: string;\n    userinfoUrl: string;\n    tokenUrl: string;\n    revokeUrl: string;\n    logoutUrl: string;\n    \n    // TokenParams\n    pkce: boolean;\n    clientId: string;\n    redirectUri: string;\n    responseType: OAuthResponseType | OAuthResponseType[];\n    responseMode: OAuthResponseMode;\n    state: string;\n    scopes: string[];\n    ignoreSignature: boolean;\n    codeChallenge: string;\n    codeChallengeMethod: string;\n    acrValues: string;\n    maxAge: string | number;\n\n    // Additional options\n    tokenManager: TokenManagerOptions;\n    postLogoutRedirectUri: string;\n    restoreOriginalUri: (oktaAuth: OktaAuthOAuthInterface, originalUri?: string) => Promise<void>;\n    transactionManager: TransactionManagerOptions;\n\n    // For server-side web applications ONLY!\n    clientSecret: string;\n    setLocation: SetLocationFunction;\n\n    // Workaround for bad client time/clock\n    ignoreLifetime: boolean;\n    maxClockSkew: number;\n\n\n    // eslint-disable-next-line max-statements\n    constructor(options: any) {\n      super(options);\n      \n      assertValidConfig(options);\n      \n      this.issuer = removeTrailingSlash(options.issuer);\n      this.tokenUrl = removeTrailingSlash(options.tokenUrl);\n      this.authorizeUrl = removeTrailingSlash(options.authorizeUrl);\n      this.userinfoUrl = removeTrailingSlash(options.userinfoUrl);\n      this.revokeUrl = removeTrailingSlash(options.revokeUrl);\n      this.logoutUrl = removeTrailingSlash(options.logoutUrl);\n\n      this.pkce = options.pkce === false ? false : true; // PKCE defaults to true\n      this.clientId = options.clientId;\n      this.redirectUri = options.redirectUri;\n      if (isBrowser()) {\n        this.redirectUri = toAbsoluteUrl(options.redirectUri, window.location.origin); // allow relative URIs\n      }\n      this.responseType = options.responseType;\n      this.responseMode = options.responseMode;\n      this.state = options.state;\n      this.scopes = options.scopes;\n      // Give the developer the ability to disable token signature validation.\n      this.ignoreSignature = !!options.ignoreSignature;\n      this.codeChallenge = options.codeChallenge;\n      this.codeChallengeMethod = options.codeChallengeMethod;\n      this.acrValues = options.acrValues;\n      this.maxAge = options.maxAge;\n\n      this.tokenManager = options.tokenManager;\n      this.postLogoutRedirectUri = options.postLogoutRedirectUri;\n      this.restoreOriginalUri = options.restoreOriginalUri;\n      this.transactionManager = { enableSharedStorage, ...options.transactionManager };\n      \n      this.clientSecret = options.clientSecret;\n      this.setLocation = options.setLocation;\n      \n      // As some end user's devices can have their date \n      // and time incorrectly set, allow for the disabling\n      // of the jwt liftetime validation\n      this.ignoreLifetime = !!options.ignoreLifetime;\n\n      // Digital clocks will drift over time, so the server\n      // can misalign with the time reported by the browser.\n      // The maxClockSkew allows relaxing the time-based\n      // validation of tokens (in seconds, not milliseconds).\n      // It currently defaults to 300, because 5 min is the\n      // default maximum tolerance allowed by Kerberos.\n      // (https://technet.microsoft.com/en-us/library/cc976357.aspx)\n      if (!options.maxClockSkew && options.maxClockSkew !== 0) {\n        this.maxClockSkew = DEFAULT_MAX_CLOCK_SKEW;\n      } else {\n        this.maxClockSkew = options.maxClockSkew;\n      }\n\n    }\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}