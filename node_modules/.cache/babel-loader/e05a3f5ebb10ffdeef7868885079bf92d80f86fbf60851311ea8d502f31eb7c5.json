{"ast":null,"code":"import _regeneratorRuntime from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _createClass from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _inherits from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport BaseTransaction from './Base.js';\nimport { generateRequestFnFromLinks } from '../request.js';\nvar EmailTransaction = /*#__PURE__*/function (_BaseTransaction) {\n  _inherits(EmailTransaction, _BaseTransaction);\n  var _super = _createSuper(EmailTransaction);\n  function EmailTransaction(oktaAuth, options) {\n    var _this;\n    _classCallCheck(this, EmailTransaction);\n    _this = _super.call(this, oktaAuth, options);\n    var accessToken = options.accessToken,\n      res = options.res;\n    var id = res.id,\n      profile = res.profile,\n      roles = res.roles,\n      status = res.status,\n      _links = res._links;\n    _this.id = id;\n    _this.profile = profile;\n    _this.roles = roles;\n    _this.status = status;\n    _this.get = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var fn;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            fn = generateRequestFnFromLinks({\n              oktaAuth: oktaAuth,\n              accessToken: accessToken,\n              methodName: 'get',\n              links: _links,\n              transactionClassName: 'EmailTransaction'\n            });\n            _context.next = 3;\n            return fn();\n          case 3:\n            return _context.abrupt(\"return\", _context.sent);\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    _this.delete = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var fn;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            fn = generateRequestFnFromLinks({\n              oktaAuth: oktaAuth,\n              accessToken: accessToken,\n              methodName: 'delete',\n              links: _links\n            });\n            _context2.next = 3;\n            return fn();\n          case 3:\n            return _context2.abrupt(\"return\", _context2.sent);\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    _this.challenge = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      var fn;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            fn = generateRequestFnFromLinks({\n              oktaAuth: oktaAuth,\n              accessToken: accessToken,\n              methodName: 'challenge',\n              links: _links,\n              transactionClassName: 'EmailChallengeTransaction'\n            });\n            _context3.next = 3;\n            return fn();\n          case 3:\n            return _context3.abrupt(\"return\", _context3.sent);\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }));\n    if (_links.poll) {\n      _this.poll = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var fn;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              fn = generateRequestFnFromLinks({\n                oktaAuth: oktaAuth,\n                accessToken: accessToken,\n                methodName: 'poll',\n                links: _links,\n                transactionClassName: 'EmailStatusTransaction'\n              });\n              _context4.next = 3;\n              return fn();\n            case 3:\n              return _context4.abrupt(\"return\", _context4.sent);\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4);\n      }));\n    }\n    if (_links.verify) {\n      _this.verify = /*#__PURE__*/function () {\n        var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(payload) {\n          var fn;\n          return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n            while (1) switch (_context5.prev = _context5.next) {\n              case 0:\n                fn = generateRequestFnFromLinks({\n                  oktaAuth: oktaAuth,\n                  accessToken: accessToken,\n                  methodName: 'verify',\n                  links: _links\n                });\n                _context5.next = 3;\n                return fn(payload);\n              case 3:\n                return _context5.abrupt(\"return\", _context5.sent);\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }, _callee5);\n        }));\n        return function (_x) {\n          return _ref5.apply(this, arguments);\n        };\n      }();\n    }\n    return _this;\n  }\n  return _createClass(EmailTransaction);\n}(BaseTransaction);\nexport { EmailTransaction as default };","map":{"version":3,"names":["EmailTransaction","_BaseTransaction","_inherits","_super","_createSuper","oktaAuth","options","_this","_classCallCheck","call","accessToken","res","id","profile","roles","status","_links","get","_asyncToGenerator","_regeneratorRuntime","mark","_callee","fn","wrap","_callee$","_context","prev","next","generateRequestFnFromLinks","methodName","links","transactionClassName","abrupt","sent","stop","delete","_callee2","_callee2$","_context2","challenge","_callee3","_callee3$","_context3","poll","_callee4","_callee4$","_context4","verify","_ref5","_callee5","payload","_callee5$","_context5","_x","apply","arguments","_createClass","BaseTransaction"],"sources":["/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@okta/lib/myaccount/transactions/EmailTransaction.ts"],"sourcesContent":["import { EmailChallengeTransaction, EmailStatusTransaction } from '.';\nimport { EmailProfile, EmailRole, Status, VerificationPayload } from '../types';\nimport BaseTransaction from './Base';\nimport { generateRequestFnFromLinks } from '../request';\n\nexport default class EmailTransaction extends BaseTransaction {\n  id: string;\n  profile: EmailProfile;\n  roles: EmailRole[];\n  status: Status;\n\n  // eslint-disable-next-line no-use-before-define\n  get: () => Promise<EmailTransaction>;\n  delete: () => Promise<BaseTransaction>;\n  challenge: () => Promise<EmailChallengeTransaction>;\n  poll?: () => Promise<EmailStatusTransaction>;\n  verify?: (payload: VerificationPayload) => Promise<BaseTransaction>;\n\n  constructor(oktaAuth, options) {\n    super(oktaAuth, options);\n\n    const { accessToken, res } = options;\n    // assign required fields from res\n    const { id, profile, roles, status, _links } = res;\n    this.id = id;\n    this.profile = profile;\n    this.roles = roles;\n    this.status = status;\n\n    // assign transformed fns to transaction\n    this.get = async () => {\n      const fn = generateRequestFnFromLinks({ \n        oktaAuth, \n        accessToken, \n        methodName: 'get', \n        links: _links,\n        transactionClassName: 'EmailTransaction'\n      });\n      return await fn() as EmailTransaction;\n    };\n    this.delete = async () => {\n      const fn = generateRequestFnFromLinks({ \n        oktaAuth, \n        accessToken, \n        methodName: 'delete', \n        links: _links \n      });\n      return await fn() as BaseTransaction;\n    };\n    this.challenge = async () => {\n      const fn = generateRequestFnFromLinks({ \n        oktaAuth, \n        accessToken, \n        methodName: 'challenge', \n        links: _links,\n        transactionClassName: 'EmailChallengeTransaction'\n      });\n      return await fn() as EmailChallengeTransaction;\n    };\n    if (_links.poll) {\n      this.poll = async () => {\n        const fn = generateRequestFnFromLinks({ \n          oktaAuth, \n          accessToken, \n          methodName: 'poll', \n          links: _links,\n          transactionClassName: 'EmailStatusTransaction'\n        });\n        return await fn() as EmailStatusTransaction;\n      };\n    }\n    if (_links.verify) {\n      this.verify = async (payload: VerificationPayload) => {\n        const fn = generateRequestFnFromLinks({ \n          oktaAuth, \n          accessToken, \n          methodName: 'verify', \n          links: _links,\n        });\n        return await fn(payload) as BaseTransaction;\n      };\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}