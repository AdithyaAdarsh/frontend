{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { removeNils, clone } from '../util/object.js';\nimport { isString } from '../util/types.js';\nimport { isAbsoluteUrl } from '../util/url.js';\nimport { STATE_TOKEN_KEY_NAME, DEFAULT_CACHE_DURATION } from '../constants.js';\nimport AuthApiError from '../errors/AuthApiError.js';\nimport AuthSdkError from '../errors/AuthSdkError.js';\nimport OAuthError from '../errors/OAuthError.js';\nvar parseInsufficientAuthenticationError = function parseInsufficientAuthenticationError(header) {\n  if (!header) {\n    throw new AuthSdkError('Missing header string');\n  }\n  return header.split(',').map(function (part) {\n    return part.trim();\n  }).map(function (part) {\n    return part.split('=');\n  }).reduce(function (acc, curr) {\n    acc[curr[0]] = curr[1].replace(/^\"(.*)\"$/, '$1');\n    return acc;\n  }, {});\n};\nvar formatError = function formatError(sdk, resp) {\n  var _a, _b;\n  var err;\n  var serverErr = {};\n  if (resp.responseText && isString(resp.responseText)) {\n    try {\n      serverErr = JSON.parse(resp.responseText);\n    } catch (e) {\n      serverErr = {\n        errorSummary: 'Unknown error'\n      };\n    }\n  }\n  if (resp.status >= 500) {\n    serverErr.errorSummary = 'Unknown error';\n  }\n  if (sdk.options.transformErrorXHR) {\n    resp = sdk.options.transformErrorXHR(clone(resp));\n  }\n  if (serverErr.error && serverErr.error_description) {\n    err = new OAuthError(serverErr.error, serverErr.error_description);\n  } else {\n    err = new AuthApiError(serverErr, resp);\n  }\n  if ((resp === null || resp === void 0 ? void 0 : resp.status) === 403 && !!((_a = resp === null || resp === void 0 ? void 0 : resp.headers) === null || _a === void 0 ? void 0 : _a['www-authenticate'])) {\n    var _parseInsufficientAut = parseInsufficientAuthenticationError((_b = resp === null || resp === void 0 ? void 0 : resp.headers) === null || _b === void 0 ? void 0 : _b['www-authenticate']),\n      error = _parseInsufficientAut.error,\n      error_description = _parseInsufficientAut.error_description,\n      max_age = _parseInsufficientAut.max_age,\n      acr_values = _parseInsufficientAut.acr_values;\n    if (error === 'insufficient_authentication_context') {\n      err = new AuthApiError({\n        errorSummary: error,\n        errorCauses: [{\n          errorSummary: error_description\n        }]\n      }, resp, Object.assign({\n        max_age: +max_age\n      }, acr_values && {\n        acr_values: acr_values\n      }));\n    }\n  }\n  return err;\n};\nfunction httpRequest(sdk, options) {\n  options = options || {};\n  if (sdk.options.httpRequestInterceptors) {\n    var _iterator = _createForOfIteratorHelper(sdk.options.httpRequestInterceptors),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var interceptor = _step.value;\n        interceptor(options);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n  var url = options.url,\n    method = options.method,\n    args = options.args,\n    saveAuthnState = options.saveAuthnState,\n    accessToken = options.accessToken,\n    withCredentials = options.withCredentials === true,\n    storageUtil = sdk.options.storageUtil,\n    storage = storageUtil.storage,\n    httpCache = sdk.storageManager.getHttpCache(sdk.options.cookies);\n  if (options.cacheResponse) {\n    var cacheContents = httpCache.getStorage();\n    var cachedResponse = cacheContents[url];\n    if (cachedResponse && Date.now() / 1000 < cachedResponse.expiresAt) {\n      return Promise.resolve(cachedResponse.response);\n    }\n  }\n  var oktaUserAgentHeader = sdk._oktaUserAgent.getHttpHeader();\n  var headers = Object.assign({\n    'Accept': 'application/json',\n    'Content-Type': 'application/json'\n  }, oktaUserAgentHeader);\n  Object.assign(headers, sdk.options.headers, options.headers);\n  headers = removeNils(headers);\n  if (accessToken && isString(accessToken)) {\n    headers['Authorization'] = 'Bearer ' + accessToken;\n  }\n  var ajaxOptions = {\n    headers: headers,\n    data: args || undefined,\n    withCredentials: withCredentials\n  };\n  var err, res;\n  return sdk.options.httpRequestClient(method, url, ajaxOptions).then(function (resp) {\n    res = resp.responseText;\n    if (res && isString(res)) {\n      res = JSON.parse(res);\n      if (res && typeof res === 'object' && !res.headers) {\n        if (Array.isArray(res)) {\n          res.forEach(function (item) {\n            item.headers = resp.headers;\n          });\n        } else {\n          res.headers = resp.headers;\n        }\n      }\n    }\n    if (saveAuthnState) {\n      if (!res.stateToken) {\n        storage.delete(STATE_TOKEN_KEY_NAME);\n      }\n    }\n    if (res && res.stateToken && res.expiresAt) {\n      storage.set(STATE_TOKEN_KEY_NAME, res.stateToken, res.expiresAt, sdk.options.cookies);\n    }\n    if (res && options.cacheResponse) {\n      httpCache.updateStorage(url, {\n        expiresAt: Math.floor(Date.now() / 1000) + DEFAULT_CACHE_DURATION,\n        response: res\n      });\n    }\n    return res;\n  }).catch(function (resp) {\n    err = formatError(sdk, resp);\n    if (err.errorCode === 'E0000011') {\n      storage.delete(STATE_TOKEN_KEY_NAME);\n    }\n    throw err;\n  });\n}\nfunction get(sdk, url, options) {\n  url = isAbsoluteUrl(url) ? url : sdk.getIssuerOrigin() + url;\n  var getOptions = {\n    url: url,\n    method: 'GET'\n  };\n  Object.assign(getOptions, options);\n  return httpRequest(sdk, getOptions);\n}\nfunction post(sdk, url, args, options) {\n  url = isAbsoluteUrl(url) ? url : sdk.getIssuerOrigin() + url;\n  var postOptions = {\n    url: url,\n    method: 'POST',\n    args: args,\n    saveAuthnState: true\n  };\n  Object.assign(postOptions, options);\n  return httpRequest(sdk, postOptions);\n}\nexport { get, httpRequest, post };","map":{"version":3,"names":["parseInsufficientAuthenticationError","header","AuthSdkError","split","map","part","trim","reduce","acc","curr","replace","formatError","sdk","resp","err","serverErr","responseText","isString","JSON","parse","e","errorSummary","status","options","transformErrorXHR","clone","error","error_description","OAuthError","AuthApiError","_a","headers","_parseInsufficientAut","_b","max_age","acr_values","errorCauses","Object","assign","httpRequest","httpRequestInterceptors","_iterator","_createForOfIteratorHelper","_step","s","n","done","interceptor","value","f","url","method","args","saveAuthnState","accessToken","withCredentials","storageUtil","storage","httpCache","storageManager","getHttpCache","cookies","cacheResponse","cacheContents","getStorage","cachedResponse","Date","now","expiresAt","Promise","resolve","response","oktaUserAgentHeader","_oktaUserAgent","getHttpHeader","removeNils","ajaxOptions","data","undefined","res","httpRequestClient","then","Array","isArray","forEach","item","stateToken","delete","STATE_TOKEN_KEY_NAME","set","updateStorage","Math","floor","DEFAULT_CACHE_DURATION","catch","errorCode","get","isAbsoluteUrl","getIssuerOrigin","getOptions","post","postOptions"],"sources":["/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@okta/lib/http/request.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity */\nimport { isString, clone, isAbsoluteUrl, removeNils } from '../util';\nimport { STATE_TOKEN_KEY_NAME, DEFAULT_CACHE_DURATION } from '../constants';\nimport {\n  OktaAuthHttpInterface,\n  RequestOptions,\n  FetchOptions,\n  RequestData,\n  HttpResponse\n} from './types';\nimport { AuthApiError, OAuthError, AuthSdkError, APIError } from '../errors';\n\ntype InsufficientAuthenticationError = {\n  error: string;\n  // eslint-disable-next-line camelcase\n  error_description: string;\n  // eslint-disable-next-line camelcase\n  max_age: string;\n  // eslint-disable-next-line camelcase\n  acr_values: string;\n};\n\nconst parseInsufficientAuthenticationError = (\n  header: string\n): InsufficientAuthenticationError => {\n  if (!header) {\n    throw new AuthSdkError('Missing header string');\n  }\n\n  return header\n    .split(',')\n    .map(part => part.trim())\n    .map(part => part.split('='))\n    .reduce((acc, curr) => {\n      // unwrap quotes from value\n      acc[curr[0]] = curr[1].replace(/^\"(.*)\"$/, '$1');\n      return acc;\n    }, {}) as InsufficientAuthenticationError;\n};\n\nconst formatError = (sdk: OktaAuthHttpInterface, resp: HttpResponse): AuthApiError | OAuthError => {\n  let err: AuthApiError | OAuthError;\n  let serverErr: Record<string, any> = {};\n  if (resp.responseText && isString(resp.responseText)) {\n    try {\n      serverErr = JSON.parse(resp.responseText);\n    } catch (e) {\n      serverErr = {\n        errorSummary: 'Unknown error'\n      };\n    }\n  }\n\n  if (resp.status >= 500) {\n    serverErr.errorSummary = 'Unknown error';\n  }\n\n  if (sdk.options.transformErrorXHR) {\n    resp = sdk.options.transformErrorXHR(clone(resp));\n  }\n\n  if (serverErr.error && serverErr.error_description) {\n    err = new OAuthError(serverErr.error, serverErr.error_description);\n  } else {\n    err = new AuthApiError(serverErr as APIError, resp);\n  }\n\n  if (resp?.status === 403 && !!resp?.headers?.['www-authenticate']) {\n    const { \n      error, \n      // eslint-disable-next-line camelcase\n      error_description,\n      // eslint-disable-next-line camelcase\n      max_age,\n      // eslint-disable-next-line camelcase\n      acr_values \n    } = parseInsufficientAuthenticationError(resp?.headers?.['www-authenticate']);\n    if (error === 'insufficient_authentication_context') {\n      err = new AuthApiError(\n        { \n          errorSummary: error,\n          // eslint-disable-next-line camelcase\n          errorCauses: [{ errorSummary: error_description }]\n        }, \n        resp, \n        {\n          // eslint-disable-next-line camelcase\n          max_age: +max_age,\n          // eslint-disable-next-line camelcase\n          ...(acr_values && { acr_values })\n        }\n      );\n    }\n  }\n\n  return err;\n};\n\nexport function httpRequest(sdk: OktaAuthHttpInterface, options: RequestOptions): Promise<any> {\n  options = options || {};\n\n  if (sdk.options.httpRequestInterceptors) {\n    for (const interceptor of sdk.options.httpRequestInterceptors) {\n      interceptor(options);\n    }\n  }\n\n  var url = options.url,\n      method = options.method,\n      args = options.args,\n      saveAuthnState = options.saveAuthnState,\n      accessToken = options.accessToken,\n      withCredentials = options.withCredentials === true, // default value is false\n      storageUtil = sdk.options.storageUtil,\n      storage = storageUtil!.storage,\n      httpCache = sdk.storageManager.getHttpCache(sdk.options.cookies);\n\n  if (options.cacheResponse) {\n    var cacheContents = httpCache.getStorage();\n    var cachedResponse = cacheContents[url as string];\n    if (cachedResponse && Date.now()/1000 < cachedResponse.expiresAt) {\n      return Promise.resolve(cachedResponse.response);\n    }\n  }\n\n  var oktaUserAgentHeader = sdk._oktaUserAgent.getHttpHeader();\n  var headers: HeadersInit = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    ...oktaUserAgentHeader\n  };\n  Object.assign(headers, sdk.options.headers, options.headers);\n  headers = removeNils(headers) as HeadersInit;\n\n  if (accessToken && isString(accessToken)) {\n    headers['Authorization'] = 'Bearer ' + accessToken;\n  }\n\n  var ajaxOptions: FetchOptions = {\n    headers,\n    data: args || undefined,\n    withCredentials\n  };\n\n  var err, res;\n  return sdk.options.httpRequestClient!(method!, url!, ajaxOptions)\n    .then(function(resp) {\n      res = resp.responseText;\n      if (res && isString(res)) {\n        res = JSON.parse(res);\n        if (res && typeof res === 'object' && !res.headers) {\n          if (Array.isArray(res)) {\n            res.forEach(item => {\n              item.headers = resp.headers;\n            });\n          } else {\n            res.headers = resp.headers;\n          }\n        }\n      }\n\n      if (saveAuthnState) {\n        if (!res.stateToken) {\n          storage.delete(STATE_TOKEN_KEY_NAME);\n        }\n      }\n\n      if (res && res.stateToken && res.expiresAt) {\n        storage.set(STATE_TOKEN_KEY_NAME, res.stateToken, res.expiresAt, sdk.options.cookies!);\n      }\n\n      if (res && options.cacheResponse) {\n        httpCache.updateStorage(url!, {\n          expiresAt: Math.floor(Date.now()/1000) + DEFAULT_CACHE_DURATION,\n          response: res\n        });\n      }\n      \n      return res;\n    })\n    .catch(function(resp) {\n      err = formatError(sdk, resp);\n\n      if (err.errorCode === 'E0000011') {\n        storage.delete(STATE_TOKEN_KEY_NAME);\n      }\n\n      throw err;\n    });\n}\n\nexport function get(sdk: OktaAuthHttpInterface, url: string, options?: RequestOptions) {\n  url = isAbsoluteUrl(url) ? url : sdk.getIssuerOrigin() + url;\n  var getOptions = {\n    url: url,\n    method: 'GET'\n  };\n  Object.assign(getOptions, options);\n  return httpRequest(sdk, getOptions);\n}\n\nexport function post(sdk: OktaAuthHttpInterface, url: string, args?: RequestData, options?: RequestOptions) {\n  url = isAbsoluteUrl(url) ? url : sdk.getIssuerOrigin() + url;\n  var postOptions = {\n    url: url,\n    method: 'POST',\n    args: args,\n    saveAuthnState: true\n  };\n  Object.assign(postOptions, options);\n  return httpRequest(sdk, postOptions);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}