{"ast":null,"code":"import _slicedToArray from\"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./styles.css';import ImageUploader from'./ImageUploader';import DynamoDBData from'./DynamoDBData';import Register from'./Register';import Login from'./Login';import{BrowserRouter as Router,Route,Routes,Link,Navigate}from'react-router-dom';import{ModerateCountProvider}from'./ModerateCountContext';import{Security,SecureRoute,LoginCallback}from'@okta/okta-react';// Import Okta components\nimport oktaConfig from'./oktaConfig';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var handleLogin=function handleLogin(username){setUser(username);};var handleLogout=function handleLogout(){setUser(null);};return/*#__PURE__*/_jsx(ModerateCountProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar navbar-expand-lg navbar-light bg-light\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"navbar-brand\",children:\"Home\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"navbar-nav ml-auto\",children:user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/customer_service\",className:\"nav-link\",children:\"Moderation Results\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"nav-link btn-link\",children:\"Logout\"})})]}):/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"nav-link\",children:\"Login\"})})})]}),/*#__PURE__*/_jsx(Security,{oktaAuth:oktaConfig.oidc,children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ImageUploader,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),user?/*#__PURE__*/_jsx(SecureRoute,{path:\"/customer_service\",element:/*#__PURE__*/_jsx(DynamoDBData,{})}):/*#__PURE__*/_jsx(Route,{path:\"/customer_service\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/login/callback\",element:/*#__PURE__*/_jsx(LoginCallback,{})})]})})]})})});}export default App;","map":{"version":3,"names":["React","useState","ImageUploader","DynamoDBData","Register","Login","BrowserRouter","Router","Route","Routes","Link","Navigate","ModerateCountProvider","Security","SecureRoute","LoginCallback","oktaConfig","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","user","setUser","handleLogin","username","handleLogout","children","className","to","onClick","oktaAuth","oidc","path","element"],"sources":["/Users/aadar00/Documents/image-moderation-app/frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './styles.css';\nimport ImageUploader from './ImageUploader';\nimport DynamoDBData from './DynamoDBData';\nimport Register from './Register';\nimport Login from './Login';\nimport { BrowserRouter as Router, Route, Routes, Link, Navigate } from 'react-router-dom';\nimport { ModerateCountProvider } from './ModerateCountContext';\nimport { Security, SecureRoute, LoginCallback } from '@okta/okta-react'; // Import Okta components\nimport oktaConfig from './oktaConfig';\n\nfunction App() {\n  const [user, setUser] = useState(null);\n\n  const handleLogin = (username) => {\n    setUser(username);\n  };\n\n  const handleLogout = () => {\n    setUser(null);\n  };\n\n  return (\n    <ModerateCountProvider>\n      <Router>\n        <div className=\"App\">\n          <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n            <Link to=\"/\" className=\"navbar-brand\">\n              Home\n            </Link>\n            <ul className=\"navbar-nav ml-auto\">\n              {user ? (\n                <>\n                  <li className=\"nav-item\">\n                    <Link to=\"/customer_service\" className=\"nav-link\">\n                      Moderation Results\n                    </Link>\n                  </li>\n                  <li className=\"nav-item\">\n                    <button onClick={handleLogout} className=\"nav-link btn-link\">\n                      Logout\n                    </button>\n                  </li>\n                </>\n              ) : (\n                <li className=\"nav-item\">\n                  <Link to=\"/login\" className=\"nav-link\">\n                    Login\n                  </Link>\n                </li>\n              )}\n            </ul>\n          </nav>\n          <Security oktaAuth={oktaConfig.oidc}>\n            <Routes>\n              <Route path=\"/\" element={<ImageUploader />} />\n              <Route path=\"/register\" element={<Register />} />\n              {user ? (\n                <SecureRoute path=\"/customer_service\" element={<DynamoDBData />} />\n              ) : (\n                <Route path=\"/customer_service\" element={<Navigate to=\"/login\" />} />\n              )}\n              <Route path=\"/login/callback\" element={<LoginCallback />} />\n            </Routes>\n          </Security>\n        </div>\n      </Router>\n    </ModerateCountProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"4IAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,cAAc,CACrB,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,KAAK,CAAEC,MAAM,CAAEC,IAAI,CAAEC,QAAQ,KAAQ,kBAAkB,CACzF,OAASC,qBAAqB,KAAQ,wBAAwB,CAC9D,OAASC,QAAQ,CAAEC,WAAW,CAAEC,aAAa,KAAQ,kBAAkB,CAAE;AACzE,MAAO,CAAAC,UAAU,KAAM,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtC,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,IAAAC,SAAA,CAAwBvB,QAAQ,CAAC,IAAI,CAAC,CAAAwB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IAEpB,GAAM,CAAAI,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,QAAQ,CAAK,CAChCF,OAAO,CAACE,QAAQ,CAAC,CACnB,CAAC,CAED,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzBH,OAAO,CAAC,IAAI,CAAC,CACf,CAAC,CAED,mBACEV,IAAA,CAACN,qBAAqB,EAAAoB,QAAA,cACpBd,IAAA,CAACX,MAAM,EAAAyB,QAAA,cACLV,KAAA,QAAKW,SAAS,CAAC,KAAK,CAAAD,QAAA,eAClBV,KAAA,QAAKW,SAAS,CAAC,+CAA+C,CAAAD,QAAA,eAC5Dd,IAAA,CAACR,IAAI,EAACwB,EAAE,CAAC,GAAG,CAACD,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAC,MAEtC,CAAM,CAAC,cACPd,IAAA,OAAIe,SAAS,CAAC,oBAAoB,CAAAD,QAAA,CAC/BL,IAAI,cACHL,KAAA,CAAAF,SAAA,EAAAY,QAAA,eACEd,IAAA,OAAIe,SAAS,CAAC,UAAU,CAAAD,QAAA,cACtBd,IAAA,CAACR,IAAI,EAACwB,EAAE,CAAC,mBAAmB,CAACD,SAAS,CAAC,UAAU,CAAAD,QAAA,CAAC,oBAElD,CAAM,CAAC,CACL,CAAC,cACLd,IAAA,OAAIe,SAAS,CAAC,UAAU,CAAAD,QAAA,cACtBd,IAAA,WAAQiB,OAAO,CAAEJ,YAAa,CAACE,SAAS,CAAC,mBAAmB,CAAAD,QAAA,CAAC,QAE7D,CAAQ,CAAC,CACP,CAAC,EACL,CAAC,cAEHd,IAAA,OAAIe,SAAS,CAAC,UAAU,CAAAD,QAAA,cACtBd,IAAA,CAACR,IAAI,EAACwB,EAAE,CAAC,QAAQ,CAACD,SAAS,CAAC,UAAU,CAAAD,QAAA,CAAC,OAEvC,CAAM,CAAC,CACL,CACL,CACC,CAAC,EACF,CAAC,cACNd,IAAA,CAACL,QAAQ,EAACuB,QAAQ,CAAEpB,UAAU,CAACqB,IAAK,CAAAL,QAAA,cAClCV,KAAA,CAACb,MAAM,EAAAuB,QAAA,eACLd,IAAA,CAACV,KAAK,EAAC8B,IAAI,CAAC,GAAG,CAACC,OAAO,cAAErB,IAAA,CAAChB,aAAa,GAAE,CAAE,CAAE,CAAC,cAC9CgB,IAAA,CAACV,KAAK,EAAC8B,IAAI,CAAC,WAAW,CAACC,OAAO,cAAErB,IAAA,CAACd,QAAQ,GAAE,CAAE,CAAE,CAAC,CAChDuB,IAAI,cACHT,IAAA,CAACJ,WAAW,EAACwB,IAAI,CAAC,mBAAmB,CAACC,OAAO,cAAErB,IAAA,CAACf,YAAY,GAAE,CAAE,CAAE,CAAC,cAEnEe,IAAA,CAACV,KAAK,EAAC8B,IAAI,CAAC,mBAAmB,CAACC,OAAO,cAAErB,IAAA,CAACP,QAAQ,EAACuB,EAAE,CAAC,QAAQ,CAAE,CAAE,CAAE,CACrE,cACDhB,IAAA,CAACV,KAAK,EAAC8B,IAAI,CAAC,iBAAiB,CAACC,OAAO,cAAErB,IAAA,CAACH,aAAa,GAAE,CAAE,CAAE,CAAC,EACtD,CAAC,CACD,CAAC,EACR,CAAC,CACA,CAAC,CACY,CAAC,CAE5B,CAEA,cAAe,CAAAQ,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}