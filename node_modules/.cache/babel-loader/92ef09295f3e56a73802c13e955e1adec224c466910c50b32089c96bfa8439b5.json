{"ast":null,"code":"/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { warn } from '../../util/console.js';\nimport storageUtil from '../../browser/browserStorage.js';\nfunction getStorage() {\n  var storageUtil$1 = Object.assign({}, storageUtil, {\n    inMemoryStore: {}\n  });\n  return storageUtil$1;\n}\nvar STORAGE_MANAGER_OPTIONS = {\n  token: {\n    storageTypes: ['localStorage', 'sessionStorage', 'cookie']\n  },\n  cache: {\n    storageTypes: ['localStorage', 'sessionStorage', 'cookie']\n  },\n  transaction: {\n    storageTypes: ['sessionStorage', 'localStorage', 'cookie']\n  },\n  'shared-transaction': {\n    storageTypes: ['localStorage']\n  },\n  'original-uri': {\n    storageTypes: ['localStorage']\n  }\n};\nfunction getCookieSettings() {\n  var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var isHTTPS = arguments.length > 1 ? arguments[1] : undefined;\n  var cookieSettings = args.cookies || {};\n  if (typeof cookieSettings.secure === 'undefined') {\n    cookieSettings.secure = isHTTPS;\n  }\n  if (typeof cookieSettings.sameSite === 'undefined') {\n    cookieSettings.sameSite = cookieSettings.secure ? 'none' : 'lax';\n  }\n  if (cookieSettings.secure && !isHTTPS) {\n    warn('The current page is not being served with the HTTPS protocol.\\n' + 'For security reasons, we strongly recommend using HTTPS.\\n' + 'If you cannot use HTTPS, set \"cookies.secure\" option to false.');\n    cookieSettings.secure = false;\n  }\n  if (cookieSettings.sameSite === 'none' && !cookieSettings.secure) {\n    cookieSettings.sameSite = 'lax';\n  }\n  return cookieSettings;\n}\nexport { STORAGE_MANAGER_OPTIONS, getCookieSettings, getStorage };","map":{"version":3,"names":["getStorage","storageUtil$1","Object","assign","storageUtil","inMemoryStore","STORAGE_MANAGER_OPTIONS","token","storageTypes","cache","transaction","getCookieSettings","args","arguments","length","undefined","isHTTPS","cookieSettings","cookies","secure","sameSite","warn"],"sources":["/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@okta/lib/storage/options/browser.ts"],"sourcesContent":["/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint-disable complexity */\nimport { StorageManagerOptions, StorageUtil, OktaAuthStorageOptions } from '../types';\nimport { warn } from '../../util';\n\nimport { default as browserStorage } from '../../browser/browserStorage';\n\nexport function getStorage(): StorageUtil {\n  const storageUtil = Object.assign({}, browserStorage, {\n    inMemoryStore: {} // create unique storage for this instance\n  });\n  return storageUtil;\n}\n\nexport const STORAGE_MANAGER_OPTIONS: StorageManagerOptions = {\n  token: {\n    storageTypes: [\n      'localStorage',\n      'sessionStorage',\n      'cookie'\n    ]\n  },\n  cache: {\n    storageTypes: [\n      'localStorage',\n      'sessionStorage',\n      'cookie'\n    ]\n  },\n  transaction: {\n    storageTypes: [\n      'sessionStorage',\n      'localStorage',\n      'cookie'\n    ]\n  },\n  'shared-transaction': {\n    storageTypes: [\n      'localStorage'\n    ]\n  },\n  'original-uri': {\n    storageTypes: [\n      'localStorage'\n    ]\n  }\n};\n\nexport function getCookieSettings(args: OktaAuthStorageOptions = {}, isHTTPS: boolean) {\n  // Secure cookies will be automatically used on a HTTPS connection\n  // Non-secure cookies will be automatically used on a HTTP connection\n  // secure option can override the automatic behavior\n  var cookieSettings = args.cookies || {};\n  if (typeof cookieSettings.secure === 'undefined') {\n    cookieSettings.secure = isHTTPS;\n  }\n  if (typeof cookieSettings.sameSite === 'undefined') {\n    cookieSettings.sameSite = cookieSettings.secure ? 'none' : 'lax';\n  }\n\n  // If secure=true, but the connection is not HTTPS, set secure=false.\n  if (cookieSettings.secure && !isHTTPS) {\n    // eslint-disable-next-line no-console\n    warn(\n      'The current page is not being served with the HTTPS protocol.\\n' +\n      'For security reasons, we strongly recommend using HTTPS.\\n' +\n      'If you cannot use HTTPS, set \"cookies.secure\" option to false.'\n    );\n    cookieSettings.secure = false;\n  }\n\n  // Chrome >= 80 will block cookies with SameSite=None unless they are also Secure\n  // If sameSite=none, but the connection is not HTTPS, set sameSite=lax.\n  if (cookieSettings.sameSite === 'none' && !cookieSettings.secure) {\n    cookieSettings.sameSite = 'lax';\n  }\n\n  return cookieSettings;\n}\n"],"mappings":";;;;;;;;;;;;;;SAkBgBA,UAAUA,CAAA;EACxB,IAAMC,aAAW,GAAGC,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEC,WAAc,EAAE;IACpDC,aAAa,EAAE,CAAE;EAClB,EAAC;EACF,OAAOJ,aAAW;AACpB;AAEa,IAAAK,uBAAuB,GAA0B;EAC5DC,KAAK,EAAE;IACLC,YAAY,EAAE,CACZ,cAAc,EACd,gBAAgB,EAChB,QAAQ;EAEX;EACDC,KAAK,EAAE;IACLD,YAAY,EAAE,CACZ,cAAc,EACd,gBAAgB,EAChB,QAAQ;EAEX;EACDE,WAAW,EAAE;IACXF,YAAY,EAAE,CACZ,gBAAgB,EAChB,cAAc,EACd,QAAQ;EAEX;EACD,oBAAoB,EAAE;IACpBA,YAAY,EAAE,CACZ,cAAc;EAEjB;EACD,cAAc,EAAE;IACdA,YAAY,EAAE,CACZ,cAAc;EAEjB;CACD;SAEcG,iBAAiBA,CAAA,EAAoD;EAAA,IAAnDC,IAA+B,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,OAAE;EAAA,IAAEG,OAAgB,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAInF,IAAIE,cAAc,GAAGL,IAAI,CAACM,OAAO,IAAI,EAAE;EACvC,IAAI,OAAOD,cAAc,CAACE,MAAM,KAAK,WAAW,EAAE;IAChDF,cAAc,CAACE,MAAM,GAAGH,OAAO;EAChC;EACD,IAAI,OAAOC,cAAc,CAACG,QAAQ,KAAK,WAAW,EAAE;IAClDH,cAAc,CAACG,QAAQ,GAAGH,cAAc,CAACE,MAAM,GAAG,MAAM,GAAG,KAAK;EACjE;EAGD,IAAIF,cAAc,CAACE,MAAM,IAAI,CAACH,OAAO,EAAE;IAErCK,IAAI,CACF,iEAAiE,GACjE,4DAA4D,GAC5D,gEAAgE,CACjE;IACDJ,cAAc,CAACE,MAAM,GAAG,KAAK;EAC9B;EAID,IAAIF,cAAc,CAACG,QAAQ,KAAK,MAAM,IAAI,CAACH,cAAc,CAACE,MAAM,EAAE;IAChEF,cAAc,CAACG,QAAQ,GAAG,KAAK;EAChC;EAED,OAAOH,cAAc;AACvB"},"metadata":{},"sourceType":"module","externalDependencies":[]}