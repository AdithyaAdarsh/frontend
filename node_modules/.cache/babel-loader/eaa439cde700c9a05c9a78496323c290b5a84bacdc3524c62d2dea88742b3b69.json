{"ast":null,"code":"import _classCallCheck from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport AuthSdkError from '../errors/AuthSdkError.js';\nvar SavedObject = /*#__PURE__*/function () {\n  function SavedObject(storage, storageName) {\n    _classCallCheck(this, SavedObject);\n    if (!storage) {\n      throw new AuthSdkError('\"storage\" is required');\n    }\n    if (typeof storageName !== 'string' || !storageName.length) {\n      throw new AuthSdkError('\"storageName\" is required');\n    }\n    this.storageName = storageName;\n    this.storageProvider = storage;\n  }\n  _createClass(SavedObject, [{\n    key: \"getItem\",\n    value: function getItem(key) {\n      return this.getStorage()[key];\n    }\n  }, {\n    key: \"setItem\",\n    value: function setItem(key, value) {\n      return this.updateStorage(key, value);\n    }\n  }, {\n    key: \"removeItem\",\n    value: function removeItem(key) {\n      return this.clearStorage(key);\n    }\n  }, {\n    key: \"getStorage\",\n    value: function getStorage() {\n      var storageString = this.storageProvider.getItem(this.storageName);\n      storageString = storageString || '{}';\n      try {\n        return JSON.parse(storageString);\n      } catch (e) {\n        throw new AuthSdkError('Unable to parse storage string: ' + this.storageName);\n      }\n    }\n  }, {\n    key: \"setStorage\",\n    value: function setStorage(obj) {\n      try {\n        var storageString = obj ? JSON.stringify(obj) : '{}';\n        this.storageProvider.setItem(this.storageName, storageString);\n      } catch (e) {\n        throw new AuthSdkError('Unable to set storage: ' + this.storageName);\n      }\n    }\n  }, {\n    key: \"clearStorage\",\n    value: function clearStorage(key) {\n      if (!key) {\n        if (this.storageProvider.removeItem) {\n          this.storageProvider.removeItem(this.storageName);\n        } else {\n          this.setStorage();\n        }\n        return;\n      }\n      var obj = this.getStorage();\n      delete obj[key];\n      this.setStorage(obj);\n    }\n  }, {\n    key: \"updateStorage\",\n    value: function updateStorage(key, value) {\n      var obj = this.getStorage();\n      obj[key] = value;\n      this.setStorage(obj);\n    }\n  }]);\n  return SavedObject;\n}();\nexport { SavedObject };","map":{"version":3,"names":["SavedObject","storage","storageName","_classCallCheck","AuthSdkError","length","storageProvider","_createClass","key","value","getItem","getStorage","setItem","updateStorage","removeItem","clearStorage","storageString","JSON","parse","e","setStorage","obj","stringify"],"sources":["/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@okta/lib/storage/SavedObject.ts"],"sourcesContent":["/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nimport AuthSdkError from '../errors/AuthSdkError';\nimport { StorageProvider, SimpleStorage } from './types';\n\n// formerly known as \"storageBuilder\". Represents an object saved under a key/name.\nexport class SavedObject implements StorageProvider {\n  storageProvider: SimpleStorage;\n  storageName: string;\n\n  constructor(storage: SimpleStorage, storageName: string) {\n    if (!storage) {\n      throw new AuthSdkError('\"storage\" is required');\n    }\n\n    if (typeof storageName !== 'string' || !storageName.length) {\n      throw new AuthSdkError('\"storageName\" is required');\n    }\n\n    this.storageName = storageName;\n    this.storageProvider = storage;\n  }\n\n  //\n  // SimpleStorage interface\n  //\n\n  getItem(key: string) {\n    return this.getStorage()[key];\n  }\n\n  setItem(key: string, value: any) {\n    return this.updateStorage(key, value);\n  }\n\n  removeItem(key: string) {\n    return this.clearStorage(key);\n  }\n\n  //\n  // StorageProvider interface\n  //\n\n  getStorage() {\n    var storageString = this.storageProvider.getItem(this.storageName);\n    storageString = storageString || '{}';\n    try {\n      return JSON.parse(storageString);\n    } catch(e) {\n      throw new AuthSdkError('Unable to parse storage string: ' + this.storageName);\n    }\n  }\n\n  setStorage(obj?: any) {\n    try {\n      var storageString = obj ? JSON.stringify(obj) : '{}';\n      this.storageProvider.setItem(this.storageName, storageString);\n    } catch(e) {\n      throw new AuthSdkError('Unable to set storage: ' + this.storageName);\n    }\n  }\n\n  clearStorage(key?: string) {\n    if (!key) {\n      // clear all\n      if (this.storageProvider.removeItem) {\n        this.storageProvider.removeItem(this.storageName);\n      } else {\n        this.setStorage();\n      }\n      return;\n    }\n\n    var obj = this.getStorage();\n    delete obj[key];\n    this.setStorage(obj);\n  }\n\n  updateStorage(key, value) {\n    var obj = this.getStorage();\n    obj[key] = value;\n    this.setStorage(obj);\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;IAiBaA,WAAW;EAItB,SAAAA,YAAYC,OAAsB,EAAEC,WAAmB;IAAAC,eAAA,OAAAH,WAAA;IACrD,IAAI,CAACC,OAAO,EAAE;MACZ,MAAM,IAAIG,YAAY,CAAC,uBAAuB,CAAC;IAChD;IAED,IAAI,OAAOF,WAAW,KAAK,QAAQ,IAAI,CAACA,WAAW,CAACG,MAAM,EAAE;MAC1D,MAAM,IAAID,YAAY,CAAC,2BAA2B,CAAC;IACpD;IAED,IAAI,CAACF,WAAW,GAAGA,WAAW;IAC9B,IAAI,CAACI,eAAe,GAAGL,OAAO;EAC/B;EAAAM,YAAA,CAAAP,WAAA;IAAAQ,GAAA;IAAAC,KAAA,EAMD,SAAAC,QAAQF,GAAW;MACjB,OAAO,IAAI,CAACG,UAAU,EAAE,CAACH,GAAG,CAAC;IAC9B;EAAA;IAAAA,GAAA;IAAAC,KAAA,EAED,SAAAG,QAAQJ,GAAW,EAAEC,KAAU;MAC7B,OAAO,IAAI,CAACI,aAAa,CAACL,GAAG,EAAEC,KAAK,CAAC;IACtC;EAAA;IAAAD,GAAA;IAAAC,KAAA,EAED,SAAAK,WAAWN,GAAW;MACpB,OAAO,IAAI,CAACO,YAAY,CAACP,GAAG,CAAC;IAC9B;EAAA;IAAAA,GAAA;IAAAC,KAAA,EAMD,SAAAE,WAAA,EAAU;MACR,IAAIK,aAAa,GAAG,IAAI,CAACV,eAAe,CAACI,OAAO,CAAC,IAAI,CAACR,WAAW,CAAC;MAClEc,aAAa,GAAGA,aAAa,IAAI,IAAI;MACrC,IAAI;QACF,OAAOC,IAAI,CAACC,KAAK,CAACF,aAAa,CAAC;MACjC,EAAC,OAAMG,CAAC,EAAE;QACT,MAAM,IAAIf,YAAY,CAAC,kCAAkC,GAAG,IAAI,CAACF,WAAW,CAAC;MAC9E;IACF;EAAA;IAAAM,GAAA;IAAAC,KAAA,EAED,SAAAW,WAAWC,GAAS;MAClB,IAAI;QACF,IAAIL,aAAa,GAAGK,GAAG,GAAGJ,IAAI,CAACK,SAAS,CAACD,GAAG,CAAC,GAAG,IAAI;QACpD,IAAI,CAACf,eAAe,CAACM,OAAO,CAAC,IAAI,CAACV,WAAW,EAAEc,aAAa,CAAC;MAC9D,EAAC,OAAMG,CAAC,EAAE;QACT,MAAM,IAAIf,YAAY,CAAC,yBAAyB,GAAG,IAAI,CAACF,WAAW,CAAC;MACrE;IACF;EAAA;IAAAM,GAAA;IAAAC,KAAA,EAED,SAAAM,aAAaP,GAAY;MACvB,IAAI,CAACA,GAAG,EAAE;QAER,IAAI,IAAI,CAACF,eAAe,CAACQ,UAAU,EAAE;UACnC,IAAI,CAACR,eAAe,CAACQ,UAAU,CAAC,IAAI,CAACZ,WAAW,CAAC;QAClD,OAAM;UACL,IAAI,CAACkB,UAAU,EAAE;QAClB;QACD;MACD;MAED,IAAIC,GAAG,GAAG,IAAI,CAACV,UAAU,EAAE;MAC3B,OAAOU,GAAG,CAACb,GAAG,CAAC;MACf,IAAI,CAACY,UAAU,CAACC,GAAG,CAAC;IACrB;EAAA;IAAAb,GAAA;IAAAC,KAAA,EAED,SAAAI,cAAcL,GAAG,EAAEC,KAAK;MACtB,IAAIY,GAAG,GAAG,IAAI,CAACV,UAAU,EAAE;MAC3BU,GAAG,CAACb,GAAG,CAAC,GAAGC,KAAK;MAChB,IAAI,CAACW,UAAU,CAACC,GAAG,CAAC;IACrB;EAAA;EAAA,OAAArB,WAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}