{"ast":null,"code":"import _createClass from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { flattenEmbedded } from './util/flattenEmbedded.js';\nvar AuthnTransactionImpl = /*#__PURE__*/_createClass(function AuthnTransactionImpl(sdk, tx) {\n  var res = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  _classCallCheck(this, AuthnTransactionImpl);\n  this.data = undefined;\n  this.status = undefined;\n  if (res) {\n    this.data = res;\n    Object.assign(this, flattenEmbedded(sdk, tx, res, res, {}));\n    delete this.stateToken;\n    if (res.status === 'RECOVERY_CHALLENGE' && !res._links) {\n      this.cancel = function () {\n        return Promise.resolve(tx.createTransaction());\n      };\n    }\n  }\n});\nexport { AuthnTransactionImpl };","map":{"version":3,"names":["AuthnTransactionImpl","_createClass","sdk","tx","res","arguments","length","undefined","_classCallCheck","data","status","Object","assign","flattenEmbedded","stateToken","_links","cancel","Promise","resolve","createTransaction"],"sources":["/Users/aadar00/Documents/image-moderation-app/frontend/node_modules/@okta/lib/authn/AuthnTransactionImpl.ts"],"sourcesContent":["/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nimport { OktaAuthHttpInterface } from '../http/types';\nimport {\n  AuthnTransactionFunction,\n  AuthnTransaction,\n  AuthnTransactionAPI,\n  AuthnTransactionState\n} from './types';\nimport { flattenEmbedded } from './util/flattenEmbedded';\n\nexport class AuthnTransactionImpl implements AuthnTransaction {\n  next?: AuthnTransactionFunction;\n  cancel?: AuthnTransactionFunction;\n  skip?: AuthnTransactionFunction;\n  unlock?: AuthnTransactionFunction;\n  changePassword?: AuthnTransactionFunction;\n  resetPassword?: AuthnTransactionFunction;\n  answer?: AuthnTransactionFunction;\n  recovery?: AuthnTransactionFunction;\n  verify?: AuthnTransactionFunction;\n  resend?: AuthnTransactionFunction;\n  activate?: AuthnTransactionFunction;\n  poll?: AuthnTransactionFunction;\n  prev?: AuthnTransactionFunction;\n\n  data?: AuthnTransactionState;\n  stateToken?: string;\n  sessionToken?: string;\n  status: string;\n  user?: Record<string, any>;\n  factor?: Record<string, any>;\n  factors?: Array<Record<string, any> >;\n  policy?: Record<string, any>;\n  scopes?: Array<Record<string, any> >;\n  target?: Record<string, any>;\n  authentication?: Record<string, any>;\n  constructor(sdk: OktaAuthHttpInterface, tx: AuthnTransactionAPI, res: AuthnTransactionState | null = null) {\n    this.data = undefined;\n    this.status = undefined as unknown as string;\n    if (res) {\n      this.data = res;\n\n      // Parse response from Authn V1\n      Object.assign(this, flattenEmbedded(sdk, tx, res, res, {}));\n      delete this.stateToken;\n\n      // RECOVERY_CHALLENGE has some responses without _links.\n      // Without _links, we emulate cancel to make it intuitive\n      // to return to the starting state. We may remove this\n      // when OKTA-75434 is resolved\n      if (res.status === 'RECOVERY_CHALLENGE' && !res._links) {\n        this.cancel = function() {\n          return Promise.resolve(tx.createTransaction());\n        };\n      }\n    }\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;IAsBaA,oBAAoB,gBAAAC,YAAA,CA0B/B,SAAAD,qBAAYE,GAA0B,EAAEC,EAAuB,EAA0C;EAAA,IAAxCC,GAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAoC,IAAI;EAAAG,eAAA,OAAAR,oBAAA;EACvG,IAAI,CAACS,IAAI,GAAGF,SAAS;EACrB,IAAI,CAACG,MAAM,GAAGH,SAA8B;EAC5C,IAAIH,GAAG,EAAE;IACP,IAAI,CAACK,IAAI,GAAGL,GAAG;IAGfO,MAAM,CAACC,MAAM,CAAC,IAAI,EAAEC,eAAe,CAACX,GAAG,EAAEC,EAAE,EAAEC,GAAG,EAAEA,GAAG,EAAE,CAAE,EAAC,CAAC;IAC3D,OAAO,IAAI,CAACU,UAAU;IAMtB,IAAIV,GAAG,CAACM,MAAM,KAAK,oBAAoB,IAAI,CAACN,GAAG,CAACW,MAAM,EAAE;MACtD,IAAI,CAACC,MAAM,GAAG;QACZ,OAAOC,OAAO,CAACC,OAAO,CAACf,EAAE,CAACgB,iBAAiB,CAAE,EAAC;MAChD,CAAC;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}